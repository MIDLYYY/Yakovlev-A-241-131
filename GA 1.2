#include <iostream>       // Подключаем библиотеку для ввода и вывода данных (cin, cout)
#include <cstdlib>        // Подключаем библиотеку для работы с генератором случайных чисел (rand(), srand())
#include <ctime>          // Подключаем библиотеку для работы со временем (time())

using namespace std;      // Используем стандартное пространство имен, чтобы не писать std:: перед каждой командой

// Функция для заполнения массива случайными числами в заданном диапазоне
void fillArray(int arr[], int size, int min, int max) {  // Объявляем функцию с параметрами: массив, его размер, минимальное и максимальное значение
    for (int i = 0; i < size; i++) {      // Начинаем цикл от 0 до size-1 (проходим по всем элементам массива)
        arr[i] = rand() % (max - min + 1) + min;  // Генерируем случайное число в диапазоне [min, max] и записываем в i-й элемент массива
    }                                       // Конец цикла for
}

// Функция для вывода массива на экран
void printArray(int arr[], int size) {     // Объявляем функцию с параметрами: массив и его размер
    for (int i = 0; i < size; i++) {       // Начинаем цикл от 0 до size-1 (проходим по всем элементам массива)
        cout << arr[i] << " ";             // Выводим i-й элемент массива и пробел после него
    }                                       // Конец цикла for
    cout << endl;                          // Переходим на новую строку после вывода всего массива
}

// Функция сортировки выбором по убыванию
void selectionSortDescending(int arr[], int size) {  // Объявляем функцию сортировки по убыванию
    for (int i = 0; i < size - 1; i++) {   // Внешний цикл: проходим по всем элементам кроме последнего
        // Находим максимальный элемент в неотсортированной части
        int maxIndex = i;                   // Предполагаем, что максимальный элемент - текущий (с индексом i)
        for (int j = i + 1; j < size; j++) { // Внутренний цикл: перебираем элементы справа от текущего
            if (arr[j] > arr[maxIndex]) {  // Если найден элемент БОЛЬШЕ текущего максимального (для сортировки по убыванию)
                maxIndex = j;               // Запоминаем индекс нового максимального элемента
            }                               // Конец условия if
        }                                   // Конец внутреннего цикла
        
        // Меняем местами найденный максимальный элемент с первым элементом неотсортированной части
        if (maxIndex != i) {                // Проверяем, нужно ли менять элементы (если maxIndex не равен i)
            int temp = arr[i];              // Сохраняем значение текущего элемента во временной переменной temp
            arr[i] = arr[maxIndex];         // В текущую позицию записываем максимальный элемент
            arr[maxIndex] = temp;           // На место максимального записываем бывший текущий элемент
        }                                   // Конец условия if
    }                                       // Конец внешнего цикла
}

int main() {                                // Главная функция программы, с неё начинается выполнение
    // Инициализация генератора случайных чисел
    srand(time(0));                         // Устанавливаем начальное значение (seed) для генератора случайных чисел
                                            // time(0) возвращает текущее время в секундах, что гарантирует разные последовательности при каждом запуске
    
    const int SIZE = 15;                    // Объявляем константу для размера массива (неизменяемое значение)
    int arr[SIZE];                          // Объявляем массив целых чисел размером SIZE (15 элементов)
    
    const int MIN_VALUE = 0;                // Объявляем константу для минимального значения (0)
    const int MAX_VALUE = 100;              // Объявляем константу для максимального значения (100)
    
    // Заполнение массива случайными числами
    fillArray(arr, SIZE, MIN_VALUE, MAX_VALUE);  // Вызываем функцию fillArray для заполнения массива
    
    cout << "Исходный массив:" << endl;     // Выводим заголовок на экран (endl переводит на новую строку)
    printArray(arr, SIZE);                   // Вызываем функцию printArray для вывода исходного массива
    
    // Сортировка массива по убыванию
    selectionSortDescending(arr, SIZE);     // Вызываем функцию сортировки по убыванию
    
    cout << "Отсортированный массив (по убыванию):" << endl;  // Выводим заголовок для отсортированного массива
    printArray(arr, SIZE);                   // Вызываем функцию printArray для вывода отсортированного массива
    
    return 0;                               // Возвращаем 0, что означает успешное завершение программы
}
